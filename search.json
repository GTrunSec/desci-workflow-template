[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "workflow-template",
    "section": "",
    "text": "Getting Started"
  },
  {
    "objectID": "index.html#users-without-nix-background",
    "href": "index.html#users-without-nix-background",
    "title": "workflow-template",
    "section": "Users (without Nix background)",
    "text": "Users (without Nix background)\n\npull Images\n\ndocker pull ghcr.io/gtrunsec/workflow-template.desci\n\nEnter the devshell with dockerImages\n\ngit clone https://github.com/GTrunSec/workflow-template.git\ncd workflow-template\n\ndocker run -it -p 8888:8888 -v \"$(pwd):/work\" -v \"/etc/localtime:/etc/localtime\" --entrypoint /bin/bash ghcr.io/gtrunsec/workflow-template.desci\n\nCommands Menu\n\nshow menu\n\nmenu\n\nrun jupyterlab with jupyenv (docker reuqired port-forward flag)\n\njupyenv lab --ip 0.0.0.0 --port 8888"
  },
  {
    "objectID": "index.html#add-custom-packages",
    "href": "index.html#add-custom-packages",
    "title": "workflow-template",
    "section": "Add custom packages",
    "text": "Add custom packages\n\nPython"
  },
  {
    "objectID": "spiffworkflow.html#spiffworkflow",
    "href": "spiffworkflow.html#spiffworkflow",
    "title": "spiffworkflow",
    "section": "SpiffWorkflow",
    "text": "SpiffWorkflow"
  },
  {
    "objectID": "spiffworkflow-cli.html",
    "href": "spiffworkflow-cli.html",
    "title": "1  spiffworkflow-cli",
    "section": "",
    "text": "tags\n\n[spiffworkflow]()\n\n\n\n\n\nCode\nusing Kroki\n\n\n\n\nCode\nDiagram(\n  :bpmn;\n  path = joinpath(@__DIR__, \"example.bpmn\"),\n)"
  },
  {
    "objectID": "prefect.html#prefect-dot-io",
    "href": "prefect.html#prefect-dot-io",
    "title": "prefect",
    "section": "Prefect.io",
    "text": "Prefect.io"
  },
  {
    "objectID": "prefect-examples.html#sequential-execution",
    "href": "prefect-examples.html#sequential-execution",
    "title": "2  prefect examples",
    "section": "2.1 Sequential execution",
    "text": "2.1 Sequential execution\n\n\nCode\npython ../../jobs/prefect/sequential.py\n\n\n/nix/store/sp5x6s8n36gjlwck74xhj1i61p66vcpa-python3-3.10.9/lib/python3.10/contextlib.py:142: SAWarning: Skipped unsupported reflection of expression-based index ix_flow_run__coalesce_start_time_expected_start_time_desc\n\n\n  next(self.gen)\n\n\n/nix/store/sp5x6s8n36gjlwck74xhj1i61p66vcpa-python3-3.10.9/lib/python3.10/contextlib.py:142: SAWarning: Skipped unsupported reflection of expression-based index ix_flow_run__coalesce_start_time_expected_start_time_asc\n\n\n  next(self.gen)\n\n\n01:58:38.957 | INFO    | prefect.engine - Created flow run 'fancy-scallop' for flow 'my-flow'\n\n\n01:58:39.097 | INFO    | Flow run 'fancy-scallop' - Created task run 'print_values-0' for task 'print_values'\n\n\n01:58:39.098 | INFO    | Flow run 'fancy-scallop' - Executing 'print_values-0' immediately...\n\n\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA01:58:46.673 | INFO    | Task run 'print_values-0' - Finished in state Completed()\n\n\n01:58:46.697 | INFO    | Flow run 'fancy-scallop' - Created task run 'print_values-1' for task 'print_values'\n\n\n01:58:46.698 | INFO    | Flow run 'fancy-scallop' - Executing 'print_values-1' immediately...\n\n\nBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB01:58:51.765 | INFO    | Task run 'print_values-1' - Finished in state Completed()\n\n\n01:58:51.790 | INFO    | Flow run 'fancy-scallop' - Finished in state Completed('All states completed.')"
  },
  {
    "objectID": "python.html#poetry",
    "href": "python.html#poetry",
    "title": "python",
    "section": "Poetry",
    "text": "Poetry\n\nCLI\n\nrun poetry install with full dependencies\nhttps://python-poetry.org/docs/cli/\n\n\npoetry install --with data\n\nonly groups\n\n\npoetry install --only data,jupyenv\n\nthen poetry shell to enter the python virtualEnvironment\n\n\n\nconfigFiles\n\nDo not modify the top-level/pyproject.toml, which is generated by nix automaticlly. I would highly recommand the users to control the dependencies through poetry’s groups.\n\n\nadd your custom poetry packages\ncustom dir: ./nix/python/packages/\n\n\npoetry add --group data -C ./nix/python/packages/\nNotice Don’t forget run direnv reload to re-generate toplevel/pyorject.toml\n\nmerge the pyproject.toml from other poetry’s projects\nNotice: make sure the pyproject.toml under the path vaule.\n\n\n{\n  poetry =\n    l.recursiveUpdate (cell.lib.mergePoetryEnv [\n      {\n        path = ./packages;\n      }\n      {\n        path = \"${inputs.dataflow2nix}/nix/prefect/packages\";\n        overrides = false;\n      }\n      {path = \"${inputs.desci}/nix/python/packages\";}\n    ]) {\n      # add your overrides here\n      #  pyproject = {\n      #  tool.poetry.dependencies.polars = {\n      #   version = \"^0.15.1\";\n      #   format = \"wheel\";\n      # };\n      # };\n    };\n}"
  },
  {
    "objectID": "python.html#nix",
    "href": "python.html#nix",
    "title": "python",
    "section": "Nix",
    "text": "Nix\n\nstd\n\n\nstd //python/packages/default:build\n\nnix-command\n\n\nnix build .x86_64-linux.python.packages.default --print-build-logs"
  },
  {
    "objectID": "prefect-tasks.html#sequential-execution",
    "href": "prefect-tasks.html#sequential-execution",
    "title": "3  prefect tasks",
    "section": "3.1 Sequential execution",
    "text": "3.1 Sequential execution\n\n\nCode\nimport time\nfrom prefect import task, flow\nfrom prefect.task_runners import SequentialTaskRunner\n\n@task\ndef print_values(values):\n    for value in values:\n        time.sleep(0.5)\n        print(value, end=\"\\r\")\n\n@flow(task_runner=SequentialTaskRunner())\ndef my_flow():\n    print_values.submit([\"AAAA\"] * 15)\n    print_values.submit([\"BBBB\"] * 10)\n\nif __name__ == \"__main__\":\n    my_flow()\n\n\n01:58:59.369 | INFO    | prefect.engine - Created flow run 'macho-wombat' for flow 'my-flow'\n\n\n\n01:58:59.510 | INFO    | Flow run 'macho-wombat' - Created task run 'print_values-0' for task 'print_values'\n\n\n\n01:58:59.512 | INFO    | Flow run 'macho-wombat' - Executing 'print_values-0' immediately...\n\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\nAAAA\n\n\n01:59:07.093 | INFO    | Task run 'print_values-0' - Finished in state Completed()\n\n\n\n01:59:07.121 | INFO    | Flow run 'macho-wombat' - Created task run 'print_values-1' for task 'print_values'\n\n\n\n01:59:07.122 | INFO    | Flow run 'macho-wombat' - Executing 'print_values-1' immediately...\n\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\nBBBB\n\n\n01:59:12.193 | INFO    | Task run 'print_values-1' - Finished in state Completed()\n\n\n\n01:59:12.221 | INFO    | Flow run 'macho-wombat' - Finished in state Completed('All states completed.')"
  }
]